{% extends "base.html" %}

{% block head %}
  <!--CSS file (default YUI Sam Skin) -->
  <link rel="stylesheet" type="text/css" href="{{ MEDIA_URL }}yui/calendar/assets/skins/sam/calendar.css" media="screen" >
  <!-- Custom CSS -->
  <link rel="stylesheet" type="text/css" href="{{MEDIA_URL}}css/div_list.css" media="screen"/>
  <link rel="stylesheet" type="text/css" href="{{ MEDIA_URL }}css/yui_custom.css" media="screen" >
  <!-- Dependencies -->
  <script type="text/javascript" src="{{ MEDIA_URL }}yui/yahoo-dom-event/yahoo-dom-event.js"></script>
  <script type="text/javascript" src="{{ MEDIA_URL }}yui/calendar/calendar-min.js"></script>
  <script type="text/javascript" src="{{ MEDIA_URL }}yui/connection/connection-min.js"></script>
  <script type="text/javascript" src="{{ MEDIA_URL }}yui/datasource/datasource-min.js"></script> 
  <script type="text/javascript" src="{{ MEDIA_URL }}yui/autocomplete/autocomplete-min.js"></script>
  <!-- Custom JS -->
  <script type="text/javascript" src="{{ MEDIA_URL }}js/scheduling.js"></script>
  {# <script type="text/javascript" src="{{ MEDIA_URL }}js/cal_selector.js"></script> #}

  <script type="text/javascript" src="{{ MEDIA_URL }}js/base.js"></script>
  <script type="text/javascript">
    function selectDate() {
      YAHOO.schedule.calendar.cal1.cfg.setProperty("pagedate", "{{ date|date:"m/Y" }}", false); 
      YAHOO.schedule.calendar.cal1.cfg.setProperty("selected", "{{ date|date:"m/d/Y" }}", false); 
      YAHOO.schedule.calendar.cal1.render();
    }
    YAHOO.util.Event.onDOMReady(selectDate);
    YAHOO.util.Event.onDOMReady(makeActive);
  </script>
  <!-- Calendar styles -->
  <style type="text/css">
    {% for task in tasks %}
      .yui-skin-sam {{ task.time|date:".\yY .\mn .\dj" }} {text-decoration: underline;}
    {% endfor %}
  </style> 
{% endblock head %}

{% block content %}
  <div id="left-column">
    {% include "scheduling/snippets/page_menu.html" %}
    <div id="primary-content-wrapper">
      <h2>
        <a href="{% url scheduling-schedule previous_date|date:"Y-m-d" %}">&larr;</a> 
        {{ date|date:"l, F jS, Y" }} 
        <a href="{% url scheduling-schedule next_date|date:"Y-m-d" %}">&rarr;</a>
      </h2>
      <table class="data" id="daily-view">
        <tr>
          <th>Time</th>
          <th>Job</th>
          <th>Workers</th>
        </tr>
        {% for task in tasks %}
        <tr class="{% cycle "odd" "even" %}{% if not task.member or not task.account %} unassigned{% endif %}">
          <td class="time">
          {% if task.deadline %}
            {{ task.time|date:"P" }} deadline for {{ task.hours }} hour task
          {% else %}
            {{ task.time|date:"P" }} &ndash; {{ task.get_end|date:"P" }}
          {% endif %}
          </td>
          <td>{{ task.job }}</td>
          <td>{% if task.member and task.account %}{{ task.member }}, {{ task.account }}{% else %}Unassigned{% endif %}</td>
        </tr>
        {% endfor %}
        {% comment %}
        <tr class="odd">
          <td class="time">8:00 a.m. &ndash; 9:00 a.m.</td>
<td>Cashier</td>
          <td>
            <ul>
              <li><a href="">John Smith</a></li>
			  <li><a href="">John Smith</a></li>
            </ul>
          </td>
        </tr>
        <tr class="even">
          <td class="time">8:00 a.m. &ndash; 9:00 a.m.</td>
          <td>Storekeeper</td>
          <td>
            <ul>
              <li><a href="">Dude's Name</a></li>
            </ul>
          </td>
		</tr>
		<tr class="odd">
          <td class="time">8:00 a.m. &ndash; 9:00 a.m.</td>
          <td>Storekeeper</td>
          <td>
            <ul>
              <li><a href="">Dude's Name</a></li>
			  <li><a href="">Dude's Name</a></li>
            </ul>
          </td>
		</tr>
		<tr class="even">
          <td class="time">9:00 a.m. &ndash; 10:00 a.m.</td>
<td>Cashier</td>
          <td class="time">
            <ul>
              <li><a href="">Dude Name</a></li>
            </ul>
          </td>
		</tr>
		<tr class="odd">
          <td class="time">10:00 a.m. &ndash; 11:00 a.m.</td>
<td>Cashier</td>
          <td>
            <ul>
              <li><a href="">Dude's Name</a></li>
            </ul>
          </td>
		</tr>
		<tr class="even unscheduled">
          <td class="time">10:00 a.m. &ndash; 11:00 a.m.</td>
<td>Cashier</td>
          <td>
            <ul>
              <li><a class="add" href="">Unassigned</a></li>
   	          <li><a href="">Dude's Name</a></li>
            </ul>
          </td>
		</tr>
		<tr class="odd">
          <td class="time">10:00 a.m. &ndash; 11:00 a.m.</td>
<td>Cashier</td>
          <td>
            <ul>
              <li><a href="">Dude's Name</a></li>
            </ul>
          </td>
		</tr>
		<tr class="even unscheduled">
          <td class="time">10:00 a.m. &ndash; 11:00 a.m.</td>
          <td>Storekeeper</td>
          <td>
            <ul>
              <li><a class="add" href="">Unassigned</a></li>
			  <li><a href="">Dude's Name</a></li>
            </ul>
          </td>
		</tr>
		<tr class="odd">
          <td class="time">10:00 a.m. &ndash; 11:00 a.m.</td>
          <td>Storekeeper</td>
          <td>
            <ul>
              <li><a href="">Dude's Name</a></li>
            </ul>
          </td>
		</tr>
		<tr class="even">
          <td class="time">10:00 a.m. &ndash; 11:00 a.m.</td>
<td>Cashier</td>
          <td>
            <ul>
			  <li><a href="">Dude's Name</a></li>
            </ul>
          </td>
		</tr>
		<tr class="odd">
          <td class="time">10:00 a.m. &ndash; 11:00 a.m.</td>
<td>Cashier</td>
          <td>
            <ul>
              <li><a href="">Dude's Name</a></li>
			  <li><a href="">Dude's Name</a></li>
            </ul>
          </td>
		</tr>
    {% endcomment %}
      </table>
    </div>
  </div>
  <div id="right-column">
    <h3 id="right-column-heading">Calendar</h3>
    <div id="cal1Container"></div>
      {# <div id="task-list"></div> #}
      {# <div id="task-form"> </div> #}
  </div>
{% endblock content %}
